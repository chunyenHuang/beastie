<div id="order-list" layout="column" flex>
    <div layout layout-align="space-between center" flex="none" style="height:130px">
        <div layout-padding layout>
            <md-button class="md-raised" style="height:96px"
                ng-repeat="mode in $ctrl.dateModeList"
                ng-click="$ctrl.changeDate(0, $ctrl.today)"
                ng-class="{'md-primary':$ctrl.isToday($ctrl.date)}">
                {{mode}}
            </md-button>
        </div>
        <md-button ng-click="$ctrl.changeDate(-1)" aria-label="yesterday" style="height:96px">
            <md-icon class="s48" md-svg-src="chevron-left"></md-icon></md-button>
        <md-button ng-disabled="true">
            <div layout="column">
                <div style="font-size:24px; color:#333" >{{$ctrl.date | date: 'EEEE'}}</div>
                <div style="font-size:24px; color:#333" >{{$ctrl.date | date:'MM/d/y'}}</div>
            </div>
        </md-button>
        <md-button ng-click="$ctrl.changeDate(1)" aria-label="tomorrow" style="height:96px">
            <md-icon class="s48" md-svg-src="chevron-right"></md-icon></md-button>
        <div layout-padding layout>
            <md-button ng-repeat="(key, type) in $ctrl.typeList"
                ng-click="$ctrl.setType(key)"
                class="md-whiteframe-3dp"
                ng-class="{'{{type.css}}': true, 'md-raised': $ctrl.showType==key, 'border-solid':false}">
                {{type.text}}<br/>
                <span class="md-display-1">{{type.count}}</span>
            
            
            </md-button>
            <md-button ng-click="$ctrl.scroll()">
                scroll
            </md-button>
        </div>
    </div>
    <md-divider></md-divider>

    <!--<div layout="column" flex>-->
    <md-content layout layout-wrap layout-align="start start" layout-padding flex="grow">
        <div ng-if="$ctrl.typeList[$ctrl.showType].count === 0" layout="column" layout-fill layout-align="center center">
            <div class="md-display-3" style="padding-top:200px">
            There is no <span style="text-transform:uppercase">{{$ctrl.typeList[$ctrl.showType].text}}</span> order.
            </div>
        </div>
        <div flex="80" ng-repeat="order in $ctrl.orders | orderBy: $ctrl.sortDate track by order._id"
            id="{{order._id}}"
            class="js-order-tile"
            ng-show="$ctrl.showAllTypes||(order.type == $ctrl.showType)"
            ng-class="{'grid-highlight': $ctrl.isHighlited(order._id)}">
            <!--ng-class="{'grid-highlight': $ctrl.isToday(order.scheduleAt) && $ctrl.dateMode!=='today'}">-->
            <md-grid-list md-cols="9" md-gutter="0.4em" md-row-height="8:7" 
                ng-class="{'label-checkedin':order.checkInAt, 'label-canceled':order.isCanceled, 'label-noshow':order.notShowup}">
                
                <md-grid-tile  md-colspan="2" md-rowspan="3" md-colors="{background: 'background', color:'grey-500'}">
                    <div layout layout-fill layout-align="center">
                        <div flex="90" layout-fill layout="column" layout-align="start end">
                            <!--<div class="md-subhead">-->
                            <!--    <span ng-hide="$ctrl.isSameHour(order, filtered_result[$index-1])">-->
                            <!--        {{order.scheduleAt | date: 'EEEE'}}</span>-->
                            <!--</div>-->
                            <div class="md-display-2" md-colors="{color:'grey-500'}">
                                <!--<span ng-hide="$ctrl.isSameHour(order, filtered_result[$index-1])">-->
                                    {{order.scheduleAt | date:'h:mma'}}
                                    <!--</span>-->
                            </div>
                            <div class="md-subhead">
                                <!--<span ng-hide="$ctrl.isSameHour(order, filtered_result[$index-1])">-->
                                    {{order.scheduleAt | date: 'EEE, MMM dd, y'}}
                                    <!--</span>-->
                            </div>
                            <!--<div flex></div>-->
                            <!--<div layout layout-align="end end"><div>{{$ctrl.hourIndex(order, filtered_result[$index-1])}}</div></div>-->
                            <!--<div flex></div>-->
                        </div>
                    </div>
                </md-grid-tile>
                
                <md-grid-tile  md-colspan="2" md-rowspan="2">
                    <md-button layout-fill layout="column" layout-align="center center"
                        ng-click="$ctrl.edit(order)"
                        ng-hide="order.checkInAt">
                        <span class="md-headline">reschedule</span>
                    </md-button>
                    <div class="md-display-4" ng-show="order.checkInAt">{{order.checkInNumber}}</div>
                </md-grid-tile>
                <md-grid-tile  md-colspan="2" md-rowspan="1">
                    <div layout="column" layout-align="center center" class="md-headline">
                        <div style="text-transform:capitalize;">{{order.customers[0].firstname | lowercase}} {{order.customers[0].lastname | lowercase}}</div>
                        <div>{{order.customers[0].phone | tel}}</div>
                        <!--<div>({{$ctrl.customers[order.customer_id].firstname}} {{$ctrl.customers[order.customer_id].lastname}})</div>-->
                    </div>
                </md-grid-tile>
                
                <md-grid-tile  md-colspan="3" md-rowspan="3" ng-if="!order.checkInAt" md-colors="{background: 'primary-500-0.85'}">
                    <md-button layout-fill ng-click="$ctrl.checkIn(order)"
                        ng-if="!order.isCanceled && !order.notShowup"><span class="md-display-1">
                        check In</span></md-button>
                    <md-button layout-fill ng-click="$ctrl.resetOrder(order)" layout="column" layout-align="center"
                        ng-if="order.isCanceled || order.notShowup"
                        ng-class="{'md-raised':order.isCanceled || order.notShowup, 'md-accent': order.isCanceled, 'tile-cancel': order.isCanceled, 'md-warn':order.notShowup , 'tile-no-show':order.notShowup }">
                        <div class="md-display-1"><span ng-show="order.isCanceled">canceled</span><span ng-show="order.notShowup">no-show</span></div>
                        <div class="md-subhead">click to reset</div>
                        </md-button></md-grid-tile>
                        
                </md-grid-tile>
                        
                <md-grid-tile  md-colspan="2" md-rowspan="1" ng-if="order.checkInAt">
                    <md-button ng-click="$ctrl.chooseService(order)" layout-fill>
                        <div layout="column" layout-align="center center">
                            <div ng-hide="order.services">select service</div>
                            <div class="md-headline">{{order.services.name}}</div>
                            <div class="md-headline">{{order.services.zhName}}</div>
                        </div>
                    </md-button>
                    
                </md-grid-tile>
                <md-grid-tile md-colspan="1" md-rowspan="1" ng-if="order.checkInAt" class="md-headline">${{order.services.price}}</md-grid-tile>
                <md-grid-tile md-colspan="2" md-rowspan="2">
                    <!--<img ng-src="/images/pets/{{order.pet_id}}.png" alt="Washed Out" ng-click="$ctrl.showPreviousOrders(order)">-->

                    <div class="md-headline tile-pets-name">{{order.pets[0].name | uppercase}}</div></md-grid-tile>
                    
                <!--<md-grid-tile  md-colspan="2" md-rowspan="2" ng-if="!order.checkInAt" md-colors="{background: 'primary-500-0.85'}">-->
                <!--    <md-button layout-fill ng-disabled="order.checkInAt" ng-click="$ctrl.checkIn(order)"><span class="md-headline">-->
                <!--        check In</span></md-button></md-grid-tile>-->

                <md-grid-tile md-colspan="2" md-rowspan="2" ng-if="order.isPaid" md-colors="{background: 'primary-200-0.85'}">
                    <md-button layout-fill layout="column" layout-align="center center"
                        ng-click="$ctrl.resetCheckOut(order)" >
                        <div class="md-subhead">Checked-Out At</div>
                        <div class="md-headline">{{order.checkOutAt | date:'h:mma'}}</div>
                        <div class="md-subhead">{{order.checkOutAt | date:'MM/d, y'}}</div>
                        <div layout-padding>Reset</div>
                        </md-button></md-grid-tile>

                <md-grid-tile  md-colspan="2" md-rowspan="1" ng-if="order.checkInAt && !order.isPaid" md-colors="{background: 'primary-500-1'}">
                    <md-button layout-fill ng-click="$ctrl.waivers(order)">
                        waivers</md-button></md-grid-tile>
                <md-grid-tile  md-colspan="1" md-rowspan="1" ng-if="order.checkInAt">
                    <md-button layout-fill ng-disabled="!order.checkInAt" ng-click="$ctrl.takeSnapshot(order._id)">
                        <md-icon md-svg-src="camera" aria-label="take photos"></md-icon></md-button></md-grid-tile>
                <!--<md-grid-tile  md-colors="{background: 'accent-500-0.85'}">-->
                
                <md-grid-tile  md-colspan="2" md-rowspan="1" ng-if="order.checkInAt" md-colors="">
                    <md-button layout-fill ng-click="$ctrl.waivers(order)">
                        {{$ctrl.typeList[order.type].text}}</md-button></md-grid-tile>
                
                <md-grid-tile ng-if="!order.checkInAt">
                    <!--<md-button layout-fill ng-click="$ctrl.cancel(order._id)" ng-disabled="order.isCanceled"-->
                    <md-button layout-fill ng-click="$ctrl.cancel(order)" 
                        class="md-accent tile-cancel" ng-class="{'md-raised':order.isCanceled}">
                        cancel</md-button></md-grid-tile>
                
                <!--<md-grid-tile md-colors="{background: 'warn-500-0.85'}">-->
                <md-grid-tile ng-if="!order.checkInAt">
                    <md-button layout-fill ng-click="$ctrl.notShowup(order)" ng-disabled="order.notShowup"
                        class="md-warn tile-no-show" ng-class="{'md-raised':order.notShowup}">
                        no-show</md-button layout-fill></md-grid-tile>
                <md-grid-tile  md-colspan="2" md-rowspan="1" ng-if="order.checkInAt && !order.isPaid" md-colors="{background: 'primary-500-1'}">
                    <md-button layout-fill ng-click="$ctrl.inhouseOdrer(order._id)">
                        Inhouse Orders</md-button></md-grid-tile>
                <md-grid-tile  md-colspan="1" md-rowspan="1" ng-if="order.checkInAt">
                    <md-button layout-fill ng-disabled="!order.checkInAt || order.isPaid" ng-click="$ctrl.checkout(order)">
                        checkout</md-button></md-grid-tile>

            </md-grid-list>
        </div>
    </md-content>


</div>
