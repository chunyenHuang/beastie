<md-content layout="column" flex>
    <div class="" layout="row">
        <div layout="row" layout-align="start" layout-padding flex="none">
            <md-button ng-click="$ctrl.backToSelfService()" class="md-primary">
                <md-icon md-svg-src="arrow-left-bold-circle"></md-icon>
                Back to Self Service
            </md-button>
            <div class="error" flex layout="row" layout-align="center center">
                {{$ctrl.errorMessage}}
            </div>
        </div>
    </div>
    <md-content layout="column" flex layout-align="start center">
        <div class="header" layout="row" layout-align="space-between" flex="none">
            <div class="">
                <h3>
                    Balance: {{$ctrl.data.balance | currency}}
                </h3>
            </div>
            <div class="">
                <h3>
                    Credit: {{$ctrl.data.credit | currency}}
                </h3>
            </div>
        </div>
        <md-card
            class="md-padding md-whiteframe-3dp"
            layout="column" flex="none"
            ng-repeat="item in $ctrl.list"
            ng-show="item.isActivated && !item.isDeleted">
            <div class="" layout="column">
                <md-button
                    ng-click="$ctrl.selected = item"
                    class="list-item md-accent"
                    ng-class="{
                        'md-raised': ($ctrl.selected == item)
                    }"
                    layout="column"
                    >
                    {{item.name}}
                    {{item.zhName}}
                    {{item.total | currency}}
                </md-button>
                <div class="md-padding" layout="column">
                    {{item.credit | currency}}
                    {{item.description}}
                    {{item.zhDescription}}
                </div>
            </div>
        </md-card>
        <md-card class="md-padding md-whiteframe-3dp" layout="column" flex="none">
            <h3>Total</h3>
            <h2 class="md-accent">
                 {{$ctrl.selected.total | currency}}
            </h2>
        </md-card>

        <div class="" layout="column" flex layout-align="start center">
            <div class="" layout="row">
                <md-button
                    ng-disabled="$ctrl.selected['services'].length === 0"
                    class="md-primary md-raised md-padding" ng-click="$ctrl.purchase()">
                    Pay At the Counter
                </md-button>
            </div>
        </div>
    </md-content>
</md-content>
